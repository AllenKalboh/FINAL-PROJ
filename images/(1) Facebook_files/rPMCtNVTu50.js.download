;/*FB_PKG_DELIM*/

__d("MWChatEncryptedBackupsPinCodeConfirmStepContentWrapper.react",["FocusRegion.react","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.inputSize;b=b===void 0?"large":b;a.isMessenger;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputSize","isMessenger"]);return i.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{inputSize:b,children:i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({testid:void 0},a,{inputSize:b}))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsPinCodeChangeConfirmStep.react",["fbt","MWChatEncryptedBackupsPinCodeConfirmStepContentWrapper.react","MWChatEncryptedBackupsQPLEvents","MWEBPinCodeSize","MWEBQPResetPIN.react","MWXColumn.react","MWXColumnItem.react","MWXDialogPageLegacy.react","MWXMultiStepDialogHeader.react","MWXText.react","gkx","react","useEncryptedBackupsQplImpressionRef","useMWChatEncryptedBackupsNumericCode","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23219"),l="chat-encrypted-backups-dialog-layout-change-new-second-step";function a(a){var b=a.enteredPinCode,e=a.onClose,f=a.onConfirm,g=a.onReturn,i=a.setIsMismatchError;a=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode({checkPreviouslyInsertedCode:{onCodeMismatch:function(){i(!0),g()},previouslyInsertedCode:b},focusRegionId:l,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onComplete:f});b=a[0];f=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent,"pin_code_change_confirm_screen");a=h._("__JHASH__1kGcfvRZPXw__JHASH__");var m=h._("__JHASH__6lKXZ8vcoUP__JHASH__");return j.jsxs(j.Fragment,{children:[j.jsx(c("MWXMultiStepDialogHeader.react"),{onClose:e,withCloseButton:e!=null,withoutBackButton:!0,withoutHeaderBottomBorder:!0}),j.jsx(c("MWXDialogPageLegacy.react"),{callToActionGroupLayout:"expanded",includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:!1,ref:d("xplatToDOMRef").xplatToDOMRef(f),children:j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,paddingVertical:16,spacing:8,children:[j.jsx(e=c("MWXColumnItem.react"),{align:"center",children:j.jsx("div",{className:"xg87l8a",children:j.jsx(c("MWEBQPResetPIN.react"),{})})}),j.jsx(e,{align:"center",paddingHorizontal:16,children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:a})}),j.jsx(e,{align:"center",paddingVertical:16,children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:m})}),j.jsx(e,{align:"center",children:j.jsx(c("MWChatEncryptedBackupsPinCodeConfirmStepContentWrapper.react"),babelHelpers["extends"]({isMessenger:k},b))})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatEncryptedBackupsPinCodeChangeEnterStep.react",["fbt","FocusRegion.react","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWEBPinCodeSize","MWEBQPResetPIN.react","MWXColumn.react","MWXColumnItem.react","MWXDialogPageLegacy.react","MWXMultiStepDialogHeader.react","MWXText.react","focusScopeQueries","react","useEncryptedBackupsQplImpressionRef","useMWChatEncryptedBackupsNumericCode","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l="chat-encrypted-backups-dialog-layout-change-new-first-step";function a(a){var b=a.onClose,e=a.onComplete;a=k(!1);var f=a[0],g=a[1];a=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode({clearInputOnComplete:!0,focusRegionId:l,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onComplete:function(a){e({enteredPinCode:a,setIsMismatchError:g})}});a=a[0];var i=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent,"pin_code_change_first_screen"),m=h._("__JHASH__-3sXWIHmvbh__JHASH__"),n=h._("__JHASH__6lKXZ8vcoUP__JHASH__");return j.jsxs(j.Fragment,{children:[j.jsx(c("MWXMultiStepDialogHeader.react"),{onClose:b,withCloseButton:b!=null,withoutBackButton:!0,withoutHeaderBottomBorder:!0}),j.jsx(c("MWXDialogPageLegacy.react"),{callToActionGroupLayout:"expanded",includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:!1,ref:d("xplatToDOMRef").xplatToDOMRef(i),children:j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,paddingVertical:16,spacing:8,children:[j.jsx(b=c("MWXColumnItem.react"),{align:"center",children:j.jsx("div",{className:"xg87l8a",children:j.jsx(c("MWEBQPResetPIN.react"),{})})}),j.jsx(b,{align:"center",paddingHorizontal:16,children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:m})}),j.jsx(b,{align:"center",paddingVertical:16,children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:n})}),j.jsx(b,{align:"center",children:j.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:f?h._("__JHASH__ZgT6jixU811__JHASH__"):void 0,children:j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:l,children:j.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({testid:void 0},a))})})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MessengerCheckmark.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 36 36",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.378 9.169c.597.347.8 1.112.453 1.709l-9 15.5a1.25 1.25 0 0 1-1.965.256l-6.5-6.5a1.25 1.25 0 1 1 1.768-1.768l5.121 5.121a.25.25 0 0 0 .393-.05L24.67 9.621a1.25 1.25 0 0 1 1.709-.453z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("useMWChatEncryptedBackupsPinCodeChangeFlow",["fbt","ix","BaseToasterStateManager","CometRelay","FDSIcon.react","ImageIconSource","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MessengerCheckmark.svg.react","QPLUserFlow","SVGIcon","deferredLoadComponent","fbicon","gkx","mwPushToast","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react")),m=k.useRef,n=c("requireDeferred")("MWEBPinCodeChange").__setRef("useMWChatEncryptedBackupsPinCodeChangeFlow"),o=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsPinCodeChangeEnterStep.react").__setRef("useMWChatEncryptedBackupsPinCodeChangeFlow")),p=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsPinCodeChangeConfirmStep.react").__setRef("useMWChatEncryptedBackupsPinCodeChangeFlow")),q=c("BaseToasterStateManager").getInstance(),r=c("gkx")("23219");function a(a){var b=a.hasBackButton,e=a.onClose,f=a.onConfirmClick,g=a.onFinish,h=a.onInitialPush,i=a.onStart,k=m(null),q=(j||(j=c("useReStore")))(),r=d("CometRelay").useRelayEnvironment(),v=function(a){return function(b){var h=b.enteredPinCode,j=b.setIsMismatchError;a(function(a){a=a.onReturn;return l.jsx(p,{enteredPinCode:h,onClose:e,onConfirm:function(a){n.onReady(function(b){b=b.mwEBPinCodeChange;b({db:q,environment:r,onFailedExtraDevice:function(){g==null?void 0:g(),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent,"failed_extra_device_created")},onPinCodeError:function(a){g==null?void 0:g(),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent,"pin_code_change_error"),k.current=u(k)},onStart:function(){i==null?void 0:i(),k.current=s(k)},onSuccess:function(){g==null?void 0:g(),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent,"success_extra_device_created"),k.current=t(k),d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent})},pinCode:a});f()})},onReturn:a,setIsMismatchError:j})})}};return function(a){a(function(b){h==null?void 0:h(b);b=v(a);return l.jsx(o,{onClose:e,onComplete:b})},{onBack:function(a){return function(){d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"dialog_back_button",event:d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent}),a()}},withoutBackButton:!b})}}function s(a){v(a);a=60*60*24*1e3;c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent,"pin_code_reset_begin_toast");return d("mwPushToast").mwPushToast({body:r?h._("__JHASH__rns_sEToICP__JHASH__"):void 0,icon:{comet:l.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("287150"),24)}),mds:new(c("ImageIconSource"))(i("287156"),24,24)},testid:"encrypted-backups-pin-code-reset-in-progress-toast",title:h._("__JHASH__ksHcx_dmYk3__JHASH__")},a)}function t(a){v(a);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent,"pin_code_reset_success_toast");return d("mwPushToast").mwPushToast({icon:{comet:l.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("477815"),24)}),mds:d("SVGIcon").svgIcon(c("MessengerCheckmark.svg.react"))},testid:"encrypted-backups-pin-code-reset-success-toast",title:h._("__JHASH__Pa27a8XTwLx__JHASH__")})}function u(a){v(a);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent,"pin_code_reset_failed_toast");return d("mwPushToast").mwPushErrorToast({body:h._("__JHASH__uRQu17gP52g__JHASH__")})}function v(a){if(a.current==null)return;q.expire(a.current);a.current=null}g["default"]=a}),226);
__d("MWEBResetPinStep.react",["fbt","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBQPResetPIN.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXDialogPage.react","MWXMultiStepDialogHeader.react","MWXText.react","gkx","react","requireDeferred","useLabyrinthLogging","useMWChatEncryptedBackupsPinCodeChangeFlow","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback,l=c("requireDeferred")("QPLUserFlow").__setRef("MWEBResetPinStep.react"),m=c("gkx")("23433");function a(a){var b=a.onClose,e=a.pushPage,f=c("useMWChatEncryptedBackupsPinCodeChangeFlow")({hasBackButton:!0,onClose:b,onConfirmClick:function(){},onStart:b});a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var g=a.startFlow;a=k(function(){g({event:d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent}),l.onReadyImmediately(function(a){a.addPoint(d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent,"pin_change_upsell")})},[g]);a=c("useVisibilityObserver")({onVisible:a});var i=h._("__JHASH__XwgyjOEV2z6__JHASH__"),n=h._("__JHASH__n08sX4Pyo_P__JHASH__");return j.jsx(c("MWXDialogPage.react"),{footer:null,header:j.jsx(c("MWXMultiStepDialogHeader.react"),{onClose:function(){d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"pin_change_upsell_closed_cancel",event:d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent}),b()},withCloseButton:!0,withoutBackButton:!0,withoutHeaderBottomBorder:!0}),children:j.jsxs(c("MWXColumn.react"),{align:"center",paddingVertical:m?8:0,ref:a,spacing:8,testid:void 0,children:[j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx("div",{className:"xg87l8a",children:j.jsx(c("MWEBQPResetPIN.react"),{})})}),j.jsx(c("MWXColumnItem.react"),{align:"center",paddingHorizontal:16,children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:i})}),j.jsx(c("MWXColumnItem.react"),{align:"center",paddingVertical:16,children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:n})}),j.jsx(c("MWXColumnItem.react"),{align:"stretch",paddingTop:16,children:j.jsx(c("MWXButton.react"),{label:h._("__JHASH__guv2W6TzL4b__JHASH__"),onPress:function(){l.onReadyImmediately(function(a){a.addPoint(d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent,"pin_change_upsell_create_pin_tap")}),f(e)}})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);