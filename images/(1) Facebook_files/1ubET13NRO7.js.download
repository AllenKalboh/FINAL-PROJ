;/*FB_PKG_DELIM*/

__d("LSMessageTakedownState",[],(function(a,b,c,d,e,f){a=Object.freeze({TAKEN_DOWN_BY_META:1,TAKEN_DOWN_BY_ADMIN:2,GEO_BLOCKED:3});f["default"]=a}),66);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId;function a(a){var b=j(),d=j(),e=j(),f=j();return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("g",{filter:"url(#"+b+")",children:i.jsx("rect",{fill:"url(#"+d+")",height:"2",width:"8",x:"17",y:"26"})}),i.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:"url(#"+e+")"}),i.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),i.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:"url(#"+f+")"}),i.jsxs("defs",{children:[i.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:b,width:"8.8",x:"16.6",y:"25.6",children:[i.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.jsx("feBlend",{"in":"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),i.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"})]}),i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:d,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[i.jsx("stop",{stopColor:"#969495"}),i.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"})]}),i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:e,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[i.jsx("stop",{stopColor:"#666666"}),i.jsx("stop",{offset:"1",stopColor:"#CACCCD"})]}),i.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:f,r:"1",children:[i.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),i.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMElectionInformTreatmentDialogQuery$Parameters",["MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMElectionInformTreatmentDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMElectionInformTreatmentDialog.entrypoint",["JSResourceForInteraction","MWCMElectionInformTreatmentDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.message_id;return{queries:{queryReference:{parameters:c("MWCMElectionInformTreatmentDialogQuery$Parameters"),variables:{message_id:a}}}}},root:c("JSResourceForInteraction")("MWCMElectionInformTreatmentDialog.react").__setRef("MWCMElectionInformTreatmentDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters",["MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMInformTreatmentGenAITransparencyDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMInformTreatmentGenAITransparencyDialog.entrypoint",["JSResourceForInteraction","MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWCMInformTreatmentGenAITransparencyDialog.react").__setRef("MWCMInformTreatmentGenAITransparencyDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatMessageUnreadIndicator.react",["fbt","MDSRow.react","MDSRowItem.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={color:{color:"x186z157",$$css:!0},line:{backgroundColor:"x1m026b5",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function a(){var a=h._("__JHASH__dAK4xN4bf5e__JHASH__");return j.jsxs(c("MDSRow.react"),{"aria-label":a,paddingVertical:12,spacingVertical:0,children:[j.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})}),j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:j.jsx(d("react-strict-dom").html.div,{style:k.color,children:a})})}),j.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWClickToReavealMustachTextInPinnedMessageList.react",["MWClickToRevealMustacheText.react","MWPMessageParsingUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={lastMessageInGroup:{marginTop:"xifccgj",$$css:!0},pinnedMessage:{paddingTop:"x1yrsyyn",$$css:!0}};function a(a){var b=a.isLastMessage,e=a.message;a=a.nextMessage;a=d("MWPMessageParsingUtils").isEndOfGroup(e,a);return i.jsx(c("MWClickToRevealMustacheText.react"),{messageId:e.messageId,xsyle:a&&!b?j.lastMessageInGroup:j.pinnedMessage})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBRestoreGapUIWithEBCheck.react",["cr:9929"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9929")}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.nextMessage;a=c("useMWPIsMessagePinned")(a);return a&&i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessagePromptPopoverTrigger.react",["I64","JSResourceForInteraction","MWPActor.react","MWShowMessagePromptPopoverContext.react","MWXLazyPopoverTrigger.react","emptyFunction","react","useShouldAllowRollCallForMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useRef,l=c("JSResourceForInteraction")("MWMessagePromptPopover.react").__setRef("MWMessagePromptPopoverTrigger.react");function a(a){var b=a.attachments,e=a.children;a=a.message;b=d("useShouldAllowRollCallForMessage").useShouldAllowRollCallForMessage(a,b);var f=k(!1),g=d("MWPActor.react").useActor(),h=d("MWShowMessagePromptPopoverContext.react").useMWShowMessagePromptPopoverContext();h[0];var m=h[1];return b?j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{message:a,onClose:c("emptyFunction")},popoverResource:l,position:(i||(i=d("I64"))).equal(g,a.senderId)?"start":"end",children:function(a,b){f.current===!1&&(f.current=!0,m(b));return j.jsx("div",{ref:a,children:e})}}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePinnedIconAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a,b){var d=k(!1),e=d[0],f=d[1],g=j(a);d=b?l.mountAnimationOutgoing:l.mountAnimationIncoming;i(function(){a!==g.current&&f(!0),g.current=a},[a]);return{mountAnimation:e?d:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","react","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={alignEnd:{end:"xds687c",transform:"x7b9nwf",$$css:!0},alignStart:{start:"x17qophe",transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=a.alreadyRenderedPin,d=a.children,e=a.message;a=a.outgoing;e=c("useMWPIsMessagePinned")(e);var f=c("usePinnedIconAnimation")(e,a),g=f.mountAnimation,i=f.shouldShow;f=f.unmountAnimation;return!i||b?j.jsx(j.Fragment,{children:d}):d&&j.jsxs("div",{className:"x1n2onr6",children:[j.jsx("div",{className:(h||(h=c("stylex")))([k.container,a?k.alignEnd:k.alignStart,e?g:f]),children:j.jsx(c("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})}),d]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMediaRenderQpl",["I64","Int64Hooks","LSAuthorityLevel","LSBitFlag","LSIntEnum","MAWMsg","MWMediaRenderQplUtils","MWPActor.react","MWVersion","QPLUserFlow","gkx","mergeDeep","react","shouldUseMAWSharedWorker","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useEffect,l=e.useLayoutEffect,m=e.useRef;function a(a,b){return n(a,b,o,!1)}function b(a,b){return n(a,b,d("MAWMsg").isMediaReplyAttachmentType,!0,{string:{reply_attachment_type:d("MWMediaRenderQplUtils").getReplyMessageAttachmentTypeStringFromEnum(a.replyAttachmentType)}})}function n(a,b,e,f,g){g===void 0&&(g={});var h=(i||(i=d("I64"))).le(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),n=d("MWPActor.react").useActor(),o=i.equal(a.senderId,n),q=c("useLSMessagingInitiatingSource")(),r=m(!1),s=d("Int64Hooks").useMemoInt64(function(){if(!e(a))return null;var j=p(a.offlineThreadingId,h,f),k={bool:{is_optimistic:h,is_outgoing:o,is_pdb:Boolean(c("gkx")("24032")),is_reply_to_media:f,use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},string:{content_type:d("MWMediaRenderQplUtils").getMessageContentTypeString(a),entry_point:"thread_view",messaging_initiation_source:d("MWMediaRenderQplUtils").getMessagingInitiationSourceStringFromEnum(q),mw_version:(i||(i=d("I64"))).to_string(d("MWVersion").v2),thread_type:d("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(b),transport_key:a.transportKey}};k=c("mergeDeep")(k,g);return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(d("MWMediaRenderQplUtils").event,j,r,k),{addAttachmentAnnotations:function(a){var b;c("QPLUserFlow").addAnnotations(d("MWMediaRenderQplUtils").event,{bool:{has_db_attachment:a!=null,has_db_media:(a==null?void 0:a.hasMedia)===!0,has_db_xma:(a==null?void 0:a.hasXma)===!0,has_db_xma_favicon:(a==null?void 0:a.hasXmaFavicon)===!0,has_db_xma_header_image:(a==null?void 0:a.hasXmaHeaderImage)===!0,has_db_xma_preview:(a==null?void 0:a.hasXmaPreview)===!0},string:{attachment_transport_key:(b=a==null?void 0:a.transportKey)!=null?b:void 0,attachment_type:a==null?null:d("MWMediaRenderQplUtils").getAttachmentTypeString(a),playable_url_mime_type:a==null?void 0:a.playableUrlMimeType,preview_url_mime_type:a==null?void 0:a.previewUrlMimeType,xma_content_type:(a==null?void 0:a.xmaContentType)!=null?d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum(a.xmaContentType):void 0,xma_default_cta_type:a==null?void 0:a.defaultCtaType}},{instanceKey:j})}})},[h,a.displayedContentTypes]);l(function(){s==null?void 0:s.start()},[s]);k(function(){return function(){r.current===!1&&(s==null?void 0:s.getInstanceKey())!=null&&(s==null?void 0:s.addPoint("message-row-unmounted"),s==null?void 0:s.endCancel(706))}},[s]);return s}function o(a){var b=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes);return b||d("MAWMsg").isMediaMsg(a)}function p(a,b,c){a=a+(b?"0":"1")+(c?"1":"0");b=a.split("");return b.reduce(function(a,b){b=b.charCodeAt(0);a=(a<<5)-a+b;a&=a;return a},0)}g.useMediaRenderQpl=a;g.useMediaRenderQplForReply=b}),98);
__d("MWMessageReplyRow.react",["CometErrorBoundary.react","I64","MWMessageListDisplayContext.react","MWPMessageListColumn.react","MWPinnedMessageOverlay.react","MWRepliedMessage.react","MWV2MessageProfilePhoto.react","MWV2ReplyError.react","MWXMessageBubbleRow.react","react","useMWIsReplyToAuthor","useMediaRenderQpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k={replyMargin:{marginBottom:"x1oo3vh0",minHeight:"x1hshjfz",$$css:!0}};function a(a){var b=a.outgoing,e=a.isGroupThread,f=a.isSecureMessage,g=a.message;a=a.threadType;var h=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();h=h.isStandardMessageList;var l=c("useMWIsReplyToAuthor")(g);l=l||g.replySourceId==null?!1:g.replyMediaExpirationTimestampMs!=null?(i||(i=d("I64"))).gt(g.replyMediaExpirationTimestampMs,(i||(i=d("I64"))).zero):!0;e=j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:j.jsx(c("MWV2MessageProfilePhoto.react"),{display:"hidden",isGroupThread:e,message:g})});var m=j.jsx("div",{className:"x1xc55vz",role:"none"});a=d("useMediaRenderQpl").useMediaRenderQplForReply(g,a);return j.jsx(c("MWXMessageBubbleRow.react"),{addOnEnd:b?e:m,addOnStart:b?m:e,align:b?"right":"left",opaque:!0,xstyle:l&&k.replyMargin,children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return j.jsx(c("MWV2ReplyError.react"),{outgoing:b})},children:h?j.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:g,outgoing:b,children:j.jsx(c("MWRepliedMessage.react"),{isSecureMessage:f,mediaRenderQpl:a,message:g,outgoing:b})}):j.jsx(c("MWRepliedMessage.react"),{isSecureMessage:f,mediaRenderQpl:a,message:g,outgoing:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowAdminMessage.react",["BaseView.react","MWMessageListAttachmentContainer.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react","useMWMessageRowTheme","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"x1nn3v0j",$$css:!0},adminMessageContainer:{maxWidth:"x193iq5w",$$css:!0}};function a(a){var b=a.domElementRef,e=a.isDialogOpened,f=a.isFirstMessageInGroup,g=a.isFocused,h=a.isModal,k=a.message,l=a.messageDomID,m=a.nextMessage,n=a.outgoing,o=a.prevMessage,p=a.setFocusedInTransition,q=a.setHoveredInTransition,r=a.setIsDialogOpened;a=a.stopHoveringRef;var s=c("useMWPEditMessageDeemphasizer")(),t=c("useMWMessageRowTheme")();s=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:i.jsxs(c("BaseView.react"),{xstyle:[s,j.adminMessageContainer],children:[i.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:k,nextMessage:m,prevMessage:o}),i.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:null,message:k,outgoing:n,xstyle:j.adminMessageAttachment})]})});if(k.adminMsgCtaType==null)return i.jsx(c("MWV2MessageRowSimple.react"),{children:s});else return i.jsx(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:f?void 0:b,isDialogOpened:e,isFocused:g,isModal:h,message:k,messageDomID:l,outgoing:n,setFocused:p,setHovered:q,setIsDialogOpened:r,stopHoveringRef:a,theme:t,children:s})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","useMWPGetAttachmentCTA","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l={root:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,$$css:!0}};function a(a){var b=a.attachment,e=a.botResponseId,f=a.dialogResource,g=a.flowInstanceId;a=a.isSearchSingleBubblePluginAttachment;a=a===void 0?!1:a;var h=b.attachmentCta1Id;b=b.attachmentCta2Id;var m=c("useMWPGetAttachmentCTA")(h);h=c("useMWPGetAttachmentCTA")(a?h:b);var n=d("MWSearchPluginUtils").useSearchPluginSources(h==null?void 0:h.nativeUrl);b=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID()));f=c("useMWXLazyDialog")(f);var o=f[0];f=b?"highlight":"blueLink";b=b?"bodyLink4":"body4";var p=k(function(){var a;return{extraData:{botResponseId:(a=e)!=null?a:""},flowInstanceId:g}},[e,g]),q=c("MessengerWebUXLogger").useImpressionLoggerRef(babelHelpers["extends"]({eventName:"search_plugin_attachment_rendered"},p)),r=c("MessengerWebUXLogger").useInteractionLogger(),s=j(function(){r==null?void 0:r(babelHelpers["extends"]({eventName:"search_plugin_see_more"},p))},[r,p]),t=j(function(){n!=null&&(r==null?void 0:r(babelHelpers["extends"]({eventName:"search_plugin_see_sources"},p)),o({botResponseId:e,sources:n}))},[e,p,r,o,n]);return i.jsxs(c("BaseView.react"),{ref:q,xstyle:l.root,children:[i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),a?i.jsx("div",{className:"x78zum5 x1q0g3np",children:i.jsx(c("MWXPressable.react"),{onPress:t,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:h!=null&&h.title})})}):i.jsxs("div",{className:"x78zum5 x1q0g3np",children:[i.jsx(c("MWXPressable.react"),{linkProps:{url:m==null?void 0:m.actionUrl},onPress:s,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:m!=null&&m.title})}),i.jsx(c("MWXPressable.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xa0\xb7\xa0"})}),i.jsx(c("MWXPressable.react"),{onPress:t,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:h!=null&&h.title})})]}),i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMustacheText",["fbt","I64","LSIntEnum","LSMessageTakedownState","MWCMElectionInformTreatmentDialog.entrypoint","MWCMInformTreatmentGenAITransparencyDialog.entrypoint","MWPMessageListColumn.react","MWXLink.react","MWXText.react","cr:1217","cr:1225","react","stylex","useGroupsCometCMDisabledChatEntryPointDialog","useMWPGetAttachments","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0}};function o(a){var b=a.label,e=a.onClick;a=a.outgoing;return m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:m.jsx("div",{className:(i||(i=c("stylex")))(n.row,a&&n.outgoing),children:e!=null?m.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:m.jsx(c("MWXLink.react"),{display:"inline",onClick:e,children:b})}):m.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:b})})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var c=a.attachment;a=a.outgoing;var d=b("cr:1225")(c,void 0,"thread");if(d!=null&&(d==="non_retryable_error"||d==="retryable_error")&&b("cr:1217"))return m.jsx(b("cr:1217"),{attachment:c,downloadStatusUIState:d,outgoing:a});d=c.mustacheText;return d==null||d===""?null:m.jsx(o,{label:h._("__JHASH__fTQoFWqjgLD__JHASH__",[h._param("quoted text",d)]),outgoing:a})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.outgoing,d=a.threadID,e=!0;a=c("useGroupsCometCMDisabledChatEntryPointDialog")({isGeoBlocked:e,threadID:d});var f=a[0];return m.jsx(o,{label:h._("__JHASH__P-dEPoA1cwy__JHASH__"),onClick:function(){return f({isGeoBlocked:e,threadID:d})},outgoing:b})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.messageId;a=a.outgoing;b=c("useMWXEntryPointDialog")(c("MWCMElectionInformTreatmentDialog.entrypoint"),{message_id:b});var d=b[0];return m.jsx(o,{label:h._("__JHASH__8dc_hiLyYbc__JHASH__"),onClick:function(){return d({})},outgoing:a})}r.displayName=r.name+" [from "+f.id+"]";function s(a){a=a.outgoing;var b=c("useMWXEntryPointDialog")(c("MWCMInformTreatmentGenAITransparencyDialog.entrypoint"),{}),d=b[0];return m.jsx(o,{label:h._("__JHASH__7oN5fvlwbIi__JHASH__"),onClick:function(){return d({})},outgoing:a})}s.displayName=s.name+" [from "+f.id+"]";function a(a){var b,e,f=a.message;a=a.outgoing;b=(b=c("useMWPGetAttachments")(f))==null?void 0:b[0];var g=f.takedownState!=null&&(j||(j=d("I64"))).equal(f.takedownState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageTakedownState").GEO_BLOCKED));if(g)return m.jsx(q,{outgoing:a,threadID:(j||(j=d("I64"))).to_string(f.threadKey)});g=f.metadataDataclass!=null?JSON.parse(f.metadataDataclass):null;if(g==null?void 0:(e=g.misinfo_metadata)==null?void 0:e.has_misinfo)return m.jsx(r,{messageId:f.messageId,outgoing:a});else if((g==null?void 0:g.mustache_cta)&&(g==null?void 0:(e=g.mustache_cta)==null?void 0:e.title)==="AI Info")return m.jsx(s,{outgoing:a});else if(b!=null)return m.jsx(p,{attachment:b,outgoing:a});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPinnedMessageDropdownButton.react",["fbt","JSResourceForInteraction","MWXIconDots3Horizontal","MWXIconStrict.react","MWXLazyPopoverTrigger.react","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={button:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"x10w6t97",width:"x1td3qas",$$css:!0},centered:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},container:{height:"x5yr21d",paddingStart:"xurb0ha",$$css:!0},hidden:{visibility:"xlshs6z",$$css:!0}},m=c("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function a(a){var b=a.hidden,d=a.isSecureMessage,e=a.isSecureThread;a=a.message;return k.jsx("div",{className:(i||(i=c("stylex")))(l.container,l.centered,b&&l.hidden),children:k.jsx(c("MWXLazyPopoverTrigger.react"),{popoverProps:{isSecureMessage:d,isSecureThread:e,message:a},popoverResource:m,children:function(a,b){return k.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__2-Q8CjJAjMD__JHASH__"),onPress:b,overlayRadius:"inherit",ref:a,xstyle:[l.button,l.centered],children:k.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconDots3Horizontal"),size:16})})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.attachments).getKeyRange(a.threadKey,a.messageId)},[b,a],f.id+":27");return(e==null?void 0:e.defaultCtaType)==="xma_web_url"&&(e==null?void 0:e.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["MWMessageListDisplayContext.react","nux:344","react","useMWIsXMARoom","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=b("nux:344")==null?void 0:b("nux:344")("WEB_MSGR_PINNED_MESSAGES_NUX");function a(a){var b=a.isLastMessage,e=a.isOutgoing;a=a.message;var f=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();f=f.isPinnedMessageList;var g=a.textHasLinks;a=c("useMWIsXMARoom")(a);e=!e&&(g||a)&&b&&!f;return!e?null:j?i.jsx(j,{}):null}a.displayName=a.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=e}),98);
__d("useAttachmentsProvider",["cr:6123","gkx","useMWPGetAttachments"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d){var e=c("useMWPGetAttachments")(a);a=b("cr:6123")(a);d=d&&c("gkx")("4643")?a:e;return d}g["default"]=a}),98);
__d("MWMessageRowBody.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWGroupBlockingProtectionUtils","MWMessageListDisplayContext.react","MWMessageListLoggingContext","MWMessagePromptPopoverTrigger.react","MWMessageReplyRow.react","MWMessageRowActions.react","MWMessageRowMessageComponent.react","MWMessageSearchPluginMustache.react","MWMustacheText","MWPBaseMessageListRow.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWSearchPluginUtils","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","cr:6407","deferredLoadComponent","gkx","isMWEditedMessage","react","requireDeferredForDisplay","stylex","useAttachmentsProvider","useIsMultiReactionEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRowBody.react")),m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWPEditedMessageHistoryList.react").__setRef("MWMessageRowBody.react")),n={multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0}};function a(a){var e=a.containerThreadKey,f=a.focused,g=a.hasClickState,i=a.hasMessageEmphasisRing,o=a.hovered,p=a.incoming,q=a.isDialogOpened,r=a.isFirstMessageInGroup,s=a.isGroupThread,t=a.isModal,u=a.isSecureMessage,v=a.mediaRenderQpl,w=a.message,x=a.navigateToRouteForMediaViewer,y=a.nextMessage,z=a.onRenderError,A=a.prevMessage,B=a.renderAttachment,C=a.shouldUseReactionsV2,D=a.threadType;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var E=a.isPinnedMessageList,F=a.isStandardMessageList;a=d("MWPMessageReactions.react").useReactions(w);var G=b("cr:6407")(w),H=d("MWPMessageReactions.react").useReactionsV2(w),I=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(w.threadKey),J=d("MWMessageListLoggingContext").useFlowInstanceId(),K=c("MWClickedMessageContext.react").useHook();K=K.clickedMessageId;var L=c("MWPMessageIsReply")(w),M=c("isMWEditedMessage")(w),N=d("MWGroupBlockingProtectionUtils").useMWShouldHideReply(w),O=y==null,P=E||d("MWPMessageParsingUtils").isEndOfGroup(w,y),Q=!p;p=p&&s;var R=d("LSMessagingThreadTypeUtil").isArmadilloSecure(D),S=R&&c("gkx")("4643")?G:a;G=c("useAttachmentsProvider")(w,R);a=G.length>0;var T=a&&d("MWSearchPluginUtils").isSearchPlugin(G[0]);a=a&&d("MWSearchPluginUtils").isSearchSingleBubblePlugin(G[0]);var U=I&&H.some(function(a){return(j||(j=d("I64"))).to_int32(a.count)>0}),V=(S.length>0||H.length>0)&&!I;return k.jsxs(k.Fragment,{children:[r&&!p?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,L&&!N&&k.jsx(c("MWMessageReplyRow.react"),{isGroupThread:s,isSecureMessage:u,message:w,outgoing:Q,threadType:D}),M&&k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(m,{editCount:w.editCount,isReply:L,isSecureMessage:u,msgId:w.messageId,outgoing:Q,threadType:D})}),k.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasMessageEmphasisRing:i,hasReactions:V,message:w,outgoing:Q,renderGutterItem:function(){return k.jsx("div",{className:"x1xc55vz",role:"none"})},renderMessageActions:function(a){return F?k.jsx(d("MWMessageRowActions.react").MWMessageRowActions,{ariaHidden:t===!1,containerThreadKey:e,focused:f||q||t,hidden:a,hovered:o,isLastMessage:O,isSecureMessage:u,message:w,outgoing:Q,shouldHideHoverMenuReact:U,threadType:D}):E?k.jsx(c("MWPinnedMessageDropdownButton.react"),{hidden:!o&&!f,isSecureMessage:u,isSecureThread:R,message:w}):null},renderMultiReactions:function(){if(w.isUnsent)return null;var a=H!=null&&H.length>0;return!I||!a?null:k.jsx("div",{className:(h||(h=c("stylex")))(n.multiReactContainer,Q?n.multiReactContainerOutgoing:!1),children:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:w,outgoing:Q,reactions:S,reactionsV2:H,children:function(a,b,d,e,f,g,h,i){return k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(l,{emojis:a,isMultiReactRowExpanded:h,message:e,onOpenDialog:g,outgoing:Q,reactionsV2:H,toggleMultiReactionRowExpansion:i})})}})})},renderProfile:function(){return k.jsx(c("MWV2MessageProfilePhoto.react"),{ariaHidden:s?!t:!0,display:P?"visible":"hidden",isGroupThread:s,message:w})},children:k.jsxs(c("CometErrorBoundary.react"),{fallback:function(a){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:Q,isReply:L})},onError:z,children:[k.jsx(c("MWMessagePromptPopoverTrigger.react"),{attachments:G,message:w,children:E?k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{hasClickState:g,hasMessageEmphasisRing:i,isFirstMessageInGroup:r,isLastMessageInGroup:P,isSearchPluginAttachment:T,isSecureMessage:u,mediaRenderQpl:v,message:w,nextMessage:y,offlineAttachmentId:G&&G.length>0?G[0].offlineAttachmentId:null,outgoing:Q,prevMessage:A,reactions:S,reactionsV2:C?H:void 0,renderAttachment:B,threadType:D}):k.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:L,message:w,outgoing:Q,children:k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{hasClickState:g,hasMessageEmphasisRing:i,isFirstMessageInGroup:r,isLastMessageInGroup:P,isSearchPluginAttachment:T,isSecureMessage:u,mediaRenderQpl:v,message:w,navigateToRouteForMediaViewer:x,nextMessage:y,offlineAttachmentId:G&&G.length>0?G[0].offlineAttachmentId:null,outgoing:Q,prevMessage:A,reactions:S,reactionsV2:C?H:void 0,renderAttachment:B,threadType:D})})}),(T||a)&&k.jsx(c("MWMessageSearchPluginMustache.react"),{attachment:G[0],botResponseId:w.botResponseId,dialogResource:c("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWMessageRowBody.react"),flowInstanceId:J.current,isSearchSingleBubblePluginAttachment:a})]})}),k.jsx(c("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:O,isOutgoing:Q,message:w}),k.jsx(c("MWMustacheText"),{message:w,outgoing:Q}),k.jsx(c("MWExtraPinnedMessagePadding.react"),{nextMessage:y}),g&&K===w.messageId?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):P&&!O?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowFooter.react",["MWClickToReavealMustachTextInPinnedMessageList.react","MWMessageDeliveryStatus","MWMessageListDisplayContext.react","MWPBaseMessageListRow.react","MWV2MessageEndOfGroupContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.hasClickState,e=a.incoming,f=a.isBroadcastThread,g=a.isFromBlockedContact,h=a.isLastMessage,j=a.message,k=a.nextMessage,l=a.outgoing,m=a.status;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var n=a.isPinnedMessageList;a=a.isStandardMessageList;if(a)return i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:j,nextMessage:k,showContent:b||d("MWMessageDeliveryStatus").isAlwaysShownStatus(m),children:function(){return i.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:b&&e,hasTextBasedMessageReceipts:!0,isFromBlockedContact:g,isLastMessage:h,isOutgoing:l,isTextOnly:f,message:j,status:m})}});return n?g?i.jsx(c("MWClickToReavealMustachTextInPinnedMessageList.react"),{isLastMessage:h,message:j,nextMessage:k}):null:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessagePinnedText.react",["fbt","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.divider;a=a.message;a=c("useMWPIsMessagePinned")(a);var d=h._("__JHASH__hknrqEeMk6h__JHASH__");return a&&j.jsxs(j.Fragment,{children:[b!=null&&j.jsx("span",{className:"x1sdyfia",children:b}),j.jsx("span",{"aria-label":d,children:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageRowHeader.react",["BaseMiddot.react","MWForwardedContent.react","MWMessageListDisplayContext.react","MWPBaseMessageRowHeader.react","MWPMessagePinnedText.react","MWReplySnippet.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isCMThread,e=a.isFirstMessageInGroup,f=a.isGroupThread,g=a.isLastMessageInGroup,h=a.message,j=a.outgoing,k=a.threadType;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var l=a.isPinnedMessageList,m=a.isStandardMessageList;a=function(a){return i.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})};return i.jsx(c("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:l,isAnyCMThread:b,isFirstMessageInGroup:e,isGroupThread:f,isLastMessageInGroup:g,message:h,outgoing:j,renderForwardSnippet:function(){return i.jsx(c("MWForwardedContent.react"),{message:h,outgoing:j,threadType:k})},renderPinnedText:function(a,b){return m?i.jsx(c("MWPMessagePinnedText.react"),{divider:b&&i.jsx(c("BaseMiddot.react"),{}),message:h}):null},renderReplySnippet:function(){return i.jsx(c("MWReplySnippet.react"),{message:h,outgoing:j})},renderTextWrapper:function(a){return i.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},renderTimestamp:l?a:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowMissingMessagesIndicator.react",["CometErrorBoundary.react","I64","MWEBRestoreGapUIWithEBCheck.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=(i||(i=d("I64"))).of_int32(5e3);function a(a){var b=a.lastEbMessageTime,e=a.message;a=a.nextMessage;e=b!=null&&(i||(i=d("I64"))).gt((i||(i=d("I64"))).sub(b,e.timestampMs),k)&&(a==null||(i||(i=d("I64"))).lt(b,a.timestampMs));return e===!0&&c("MWEBRestoreGapUIWithEBCheck.react")?j.jsx(c("MWV2MessageRowSimple.react"),{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:j.jsx(c("MWEBRestoreGapUIWithEBCheck.react"),{})})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowUnreadMessagesIndicator.react",["MWChatMessageUnreadIndicator.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.shouldRenderUnreadIndicator;return a===!0?i.jsx(c("MWV2MessageRowSimple.react"),{children:i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:i.jsx(c("MWChatMessageUnreadIndicator.react"),{})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useNextNonAdminMessage",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=10;function a(a,b){var e=(h||(h=c("useReStore")))(),g=(b==null?void 0:b.isAdminMessage)===!0,j=d("ReQLSuspense").useFirst(function(){return g?d("ReQL").fromTableAscending(e.tables.messages.index("messageDisplayOrder"),["isAdminMessage","timestampMs","senderId"]).getKeyRange(a.threadKey).bounds({gt:d("ReQL").key(a.primarySortKey)}).take(i).filter(function(a){return!a.isAdminMessage}):d("ReQL").empty()},[e,g,a.primarySortKey,a.threadKey],f.id+":49");return g?j:b}g["default"]=a}),98);
__d("MWMessageRow.react",["BaseView.react","CometErrorBoundary.react","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWGroupBlockingProtectionUtils","MWMessageEditContext.react","MWMessageListAttachmentContainer.react","MWMessageListDisplayContext.react","MWMessageRowAdminMessage.react","MWMessageRowBody.react","MWMessageRowFooter.react","MWMessageRowHeader.react","MWMessageRowMissingMessagesIndicator.react","MWMessageRowUnreadMessagesIndicator.react","MWPActor.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageParsingUtils","MWPMessageRowCalculateStatus.react","MWPThreadCapabilitiesContext","MWShowMessagePromptPopoverContext.react","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","cr:3932","cr:7412","react","useAttachmentsProvider","useMWMessageRowTheme","useMWPEditMessageDeemphasizer","useMediaRenderQpl","useNextNonAdminMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;var l=e.memo,m=e.startTransition,n=e.useCallback,o=e.useEffect,p=e.useId,q=e.useState,r={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"x1nn3v0j",$$css:!0}},s=k.memo(c("MWPMessageRowCalculateStatus.react"));function t(a){var b=a.message,c=a.nextMessage;a=babelHelpers.objectWithoutPropertiesLoose(a,["message","nextMessage"]);return k.jsx(s,babelHelpers["extends"]({message:d("Int64Hooks").usePickInt64(b,["senderId","isUnsent","threadKey","primarySortKey","timestampMs","messageId","isAdminMessage","sendStatusV2","groupId","groupIndex","groupSize"]),nextMessage:d("Int64Hooks").usePickInt64(c,["senderId","timestampMs","isAdminMessage"])},a))}t.displayName=t.name+" [from "+f.id+"]";function a(a){var e=a.containerThreadKey,f=a.domElementRef,g=a.hasMessageEmphasisRing,h=a.isMediaGroupLastMessage,l=a.isModal,s=a.isSecureMessage,u=a.lastEbMessageTime,v=a.message,w=a.navigateToRouteForMediaViewer,x=a.nextMessage,y=a.onRenderError,z=a.prevMessage,A=a.renderAttachment,B=a.shouldRenderUnreadIndicator,C=a.stopHoveringRef,D=a.threadType;a=a.useReactionsV2;var E=a===void 0?!1:a;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var F=a.isPinnedMessageList;a=a.isStandardMessageList;var G=d("MWPActor.react").useActor(),H=F||d("MWPMessageParsingUtils").isStartOfGroup(v,z),I=F||d("MWPMessageParsingUtils").isEndOfGroup(v,x),aa=c("MWCMIsAnyCMThread")(D),J=d("MWCMThreadTypes.react").isBroadcastThread(D),K=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(D),L=d("LSMessagingThreadTypeUtil").isGroup(D),M=d("LSMessagingThreadTypeUtil").isArmadilloSecure(D),ba=c("MWPMessageIsReply")(v),N=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();N=N.seenCountV2Enabled;N=!v.isUnsent&&N;var O=N&&!K&&!d("LSMessagingThreadTypeUtil").isCMSubthread(D)&&!d("MWCMThreadTypes.react").isStandardCMThread(D),ca=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(v.senderId,v.threadKey),P=!F&&(i||(i=d("I64"))).equal(v.senderId,G);N=c("useNextNonAdminMessage")(v,x);var da=N==null||h===!0,Q=!P;F=q(!1);var R=F[0],S=F[1];G=q(!1);var ea=G[0],T=G[1],U=n(function(a){return m(function(){return T(a)})},[T,m]),V=n(function(a){return m(function(){return S(a)})},[S,m]),W=p();F=q(!1);var X=F[0],Y=F[1],fa=c("useMWMessageRowTheme")(),Z;G=c("useAttachmentsProvider")(v,M);F=G.length>0&&G[0].xmaLayoutType!=null&&(i||(i=d("I64"))).equal(G[0].xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA));G=G.length>0&&G[0].xmaLayoutType!=null&&(i||(i=d("I64"))).equal(G[0].xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK));var ga=c("useMWPEditMessageDeemphasizer")(),ha=d("LSMessagingThreadTypeUtil").isCMSubthread(D)&&v.subthreadKey!=null,$=d("useMediaRenderQpl").useMediaRenderQpl(v,D);o(function(){$==null?void 0:$.addPoint("render-message-row")},[$]);v.isAdminMessage?Z=k.jsx(c("MWMessageRowAdminMessage.react"),{domElementRef:f,isDialogOpened:X,isFirstMessageInGroup:H,isFocused:R,isModal:l,message:v,messageDomID:W,nextMessage:x,outgoing:P,prevMessage:z,setFocusedInTransition:V,setHoveredInTransition:U,setIsDialogOpened:Y,stopHoveringRef:C}):F||G?Z=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsx(c("BaseView.react"),{xstyle:ga,children:k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:$,message:v,outgoing:P,xstyle:r.adminMessageAttachment})})})}):Z=k.jsx(d("MWShowMessagePromptPopoverContext.react").MWShowMessagePromptPopoverContextProvider,{children:k.jsx(d("MWMessageEditContext.react").MWMessageEditContextProvider,{children:k.jsxs(k.Fragment,{children:[k.jsx(c("MWMessageRowUnreadMessagesIndicator.react"),{shouldRenderUnreadIndicator:B}),H&&a?k.jsx(c("MWV2MessageStartOfGroupContent.react"),{message:v,prevMessage:z}):null,k.jsx(t,{isBroadcastChannel:K,isBroadcastThread:J,isLargeGroup:!1,isSecureGroupThread:M&&L,isSecureThread:M,message:v,nextMessage:N,children:function(a){return k.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:f,isDialogOpened:X,isFocused:R,isModal:l,message:v,messageDomID:W,outgoing:P,setFocused:V,setHovered:U,setIsDialogOpened:Y,stopHoveringRef:C,theme:fa,children:[k.jsx(c("MWMessageRowHeader.react"),{isCMThread:aa,isFirstMessageInGroup:H,isGroupThread:L,isLastMessageInGroup:I,message:v,outgoing:P,threadType:D}),k.jsx(c("MWMessageRowBody.react"),{containerThreadKey:e,focused:R,hasClickState:O,hasMessageEmphasisRing:g,hovered:ea,incoming:Q,isDialogOpened:X,isFirstMessageInGroup:H,isGroupThread:L,isModal:l,isSecureMessage:s,mediaRenderQpl:$,message:v,navigateToRouteForMediaViewer:w,nextMessage:x,onRenderError:y,prevMessage:z,renderAttachment:A,shouldUseReactionsV2:E,threadType:D}),k.jsx(c("MWMessageRowFooter.react"),{hasClickState:O,incoming:Q,isBroadcastThread:J,isFromBlockedContact:ca,isLastMessage:da,message:v,nextMessage:h===!0?void 0:x,outgoing:P,status:a})]})}}),H&&a&&ha&&v.subthreadKey!=null&&b("cr:7412")!=null?k.jsx(b("cr:7412"),{domElementRef:f,message:v,nextMessage:x,subthreadKey:v.subthreadKey}):null]})})});return k.jsxs(c("CometErrorBoundary.react"),{fallback:function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:P,isReply:ba})},children:[Z,k.jsx(c("MWMessageRowMissingMessagesIndicator.react"),{lastEbMessageTime:u,message:v,nextMessage:x}),b("cr:3932")==null?null:k.jsx(b("cr:3932"),{})]})}a.displayName=a.name+" [from "+f.id+"]";e=l(a);g.MWMessageRow=e}),98);